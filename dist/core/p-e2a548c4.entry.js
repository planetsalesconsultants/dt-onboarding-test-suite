/*!
 * (C) PAQT.com B.V. https://paqt.com - MIT License
 */
import{r as t,c as o,h as r,H as a,g as i}from"./p-e51bfc07.js";import{s}from"./p-6e3c7be8.js";const e=":host{display:inline-block;--color:var(--gr-color-dark);--color-focused:var(--gr-color-primary-contrast);--color-disabled:var(--gr-color-medium);display:inline-flex;align-items:center;font-family:var(--gr-font-family);font-size:var(--gr-font-size-medium);font-weight:var(--gr-font-weight-normal);color:var(--color);padding:var(--gr-spacing-x-small) var(--gr-spacing-medium);white-space:nowrap;user-select:none;cursor:pointer;transition:500ms box-shadow, 500ms color}:host:hover:not(.tab-disabled){color:var(--color-disabled)}:host(.tab-focused:not(.tab-disabled)){outline:none}:host(.tab-active:not(.tab-disabled)){color:var(--gr-color-primary)}:host(.tab-disabled){opacity:0.5;cursor:not-allowed}";const n=class{constructor(r){t(this,r);this.grFocus=o(this,"gr-focus",7);this.grBlur=o(this,"gr-blur",7);this.hasFocus=false;this.panel="";this.active=false;this.disabled=false}connectedCallback(){this.onBlur=this.onBlur.bind(this);this.onFocus=this.onFocus.bind(this)}async setFocus(){this.el.focus()}async removeFocus(){this.el.blur()}onBlur(){this.hasFocus=false;this.grBlur.emit()}onFocus(){this.hasFocus=true;this.grFocus.emit()}render(){const{active:t,disabled:o}=this;return r(a,{class:{tab:true,"tab-active":t,"tab-disabled":o,"tab-focused":this.hasFocus},role:"tab","aria-disabled":o?"true":"false","aria-selected":t?"true":"false",tabIndex:o||!t?0:null,onFocus:this.onFocus,onBlur:this.onBlur,slot:"nav"},r("slot",null))}get el(){return i(this)}};n.style=e;function l(t,o,r){const a=new CustomEvent(o,Object.assign({bubbles:true,cancelable:false,composed:true,detail:{}},r));t.dispatchEvent(a);return a}const d=":host{--track-color:var(--gr-color-light-shade);--indicator-color:var(--gr-color-primary);--border-track-width:var(--gr-border-width-small);--border-width:var(--gr-border-width-medium);display:block}.tab-group{display:flex;border:solid 1px transparent;border-radius:0}.tab-group .tab-group__tabs{display:flex;position:relative}.tab-group .tab-group__indicator{position:absolute;left:0;box-sizing:border-box;transition:150ms transform ease, 150ms width ease}.tab-group--has-scroll-controls .tab-group__nav-container{position:relative;padding:0 var(--gr-spacing-x-large)}.tab-group--top{flex-direction:column}.tab-group--top .tab-group__nav-container{order:1}.tab-group--top .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none}.tab-group--top .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--top .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row;border-bottom:solid var(--border-track-width) var(--track-color)}.tab-group--top .tab-group__indicator{bottom:0;border-bottom:solid var(--border-width) var(--indicator-color)}.tab-group--top .tab-group__body{order:2}.tab-group--top ::slotted(gr-tab-panel){--padding:var(--gr-spacing-medium) 0}.tab-group--bottom{flex-direction:column}.tab-group--bottom .tab-group__nav-container{order:2}.tab-group--bottom .tab-group__nav{display:flex;overflow-x:auto;scrollbar-width:none}.tab-group--bottom .tab-group__nav::-webkit-scrollbar{width:0;height:0}.tab-group--bottom .tab-group__tabs{flex:1 1 auto;position:relative;flex-direction:row;border-top:solid var(--border-track-width) var(--track-color)}.tab-group--bottom .tab-group__indicator{top:0;border-top:solid var(--border-width) var(--indicator-color)}.tab-group--bottom .tab-group__body{order:1}.tab-group--bottom ::slotted(gr-tab-panel){--padding:var(--gr-spacing-medium) 0}.tab-group--start{flex-direction:row}.tab-group--start .tab-group__nav-container{order:1}.tab-group--start .tab-group__tabs{flex:0 0 auto;flex-direction:column;border-right:solid var(--border-track-width) var(--track-color)}.tab-group--start .tab-group__indicator{right:0;border-right:solid var(--border-width) var(--indicator-color)}.tab-group--start .tab-group__body{flex:1 1 auto;order:2}.tab-group--start ::slotted(gr-tab-panel){--padding:0 var(--gr-spacing-medium)}.tab-group--end{flex-direction:row}.tab-group--end .tab-group__nav-container{order:2}.tab-group--end .tab-group__tabs{flex:0 0 auto;flex-direction:column;border-left:solid var(--border-track-width) var(--track-color)}.tab-group--end .tab-group__indicator{left:0;border-left:solid var(--border-width) var(--indicator-color)}.tab-group--end .tab-group__body{flex:1 1 auto;order:1}.tab-group--end ::slotted(gr-tab-panel){--padding:0 var(--gr-spacing-medium)}.tab-small slot[name=nav]::slotted(.tab){padding:var(--gr-spacing-xxx-small) var(--gr-spacing-medium)}.tab-large slot[name=nav]::slotted(.tab){padding:var(--gr-spacing-medium)}";const b=class{constructor(o){t(this,o);this.tabs=[];this.panels=[];this.placement="top";this.tabSize="medium";this.routeNavigation=false}connectedCallback(){this.handleClick=this.handleClick.bind(this);this.handleTabsPanelsChange=this.handleTabsPanelsChange.bind(this);this.resizeObserver=new ResizeObserver((()=>{this.preventIndicatorTransition();this.repositionIndicator()}));this.mutationObserver=new MutationObserver((t=>{if(t.some((t=>!["aria-labelledby","aria-controls"].includes(t.attributeName)))){setTimeout((()=>this.setAriaLabels()))}}));if(this.routeNavigation===true){window.addEventListener("popstate",(()=>{this.handleTabsPanelsChange()}))}}componentDidLoad(){const t=this.el.shadowRoot.querySelector(".tab-group");const o=this.el.shadowRoot.querySelector('slot[name="nav"]');this.handleTabsPanelsChange();this.mutationObserver.observe(this.el,{attributes:true,childList:true,subtree:true});this.resizeObserver.observe(o);const r=new IntersectionObserver(((t,o)=>{var r;if(t[0].intersectionRatio>0){this.setAriaLabels();this.setActiveTab((r=this.getActiveTab())!==null&&r!==void 0?r:this.tabs[0],{emitEvents:false});o.unobserve(t[0].target)}}));r.observe(t)}disconnectedCallback(){const t=this.el.shadowRoot.querySelector('slot[name="nav"]');this.mutationObserver.disconnect();this.resizeObserver.unobserve(t)}getTabs(){const t=this.el.shadowRoot.querySelector('slot[name="nav"]');return[...t.assignedElements({flatten:true})].filter((t=>t.tagName.toLowerCase()==="gr-tab"))}getPanels(){var t;const o=(t=this.el.shadowRoot)===null||t===void 0?void 0:t.querySelector(".tab-group__body");const r=o.querySelector("slot");return[...r.assignedElements({flatten:true})].filter((t=>t.tagName.toLowerCase()==="gr-tab-panel"))}getActiveTab(){return this.tabs.find((t=>t.active))}handleClick(t){const o=t.target;const r=o.closest("gr-tab");const a=r===null||r===void 0?void 0:r.closest("gr-tab-group");if(a!==this.el){return}if(r!==null){this.setActiveTab(r,{scrollBehavior:"smooth"})}}setActiveTab(t,o){const r=this.el.shadowRoot.querySelector('slot[name="nav"]');o=Object.assign({emitEvents:true,scrollBehavior:"auto"},o);t.setFocus();if(t!==this.activeTab){const a=this.activeTab;this.activeTab=t;this.tabs.map((t=>t.active=t===this.activeTab));this.panels.map((t=>{var o;return t.active=t.name===((o=this.activeTab)===null||o===void 0?void 0:o.panel)}));this.handleIndicatorChange();if(["top","bottom"].includes(this.placement)){s(this.activeTab,r,"horizontal",o.scrollBehavior)}if(o.emitEvents){if(a){l(this.el,"gr-tab-hide",{detail:{name:a.panel}})}l(this.el,"gr-tab-show",{detail:{name:this.activeTab.panel}})}}}setAriaLabels(){this.tabs.forEach((t=>{const o=this.panels.find((o=>o.name===t.panel));if(o){t.setAttribute("aria-controls",o.getAttribute("id"));o.setAttribute("aria-labelledby",t.getAttribute("id"))}}))}handleIndicatorChange(){var t;const o=this.getActiveTab();const r=(t=this.el.shadowRoot)===null||t===void 0?void 0:t.querySelector(".tab-group__indicator");if(o){r.style.display="block";this.repositionIndicator()}else{r.style.display="none"}}repositionIndicator(){var t;const o=this.getActiveTab();const r=(t=this.el.shadowRoot)===null||t===void 0?void 0:t.querySelector(".tab-group__indicator");if(!o){return}const a=o.clientWidth;const i=o.clientHeight;const s=this.tabs;const e=s.slice(0,s.indexOf(o));const n=e.reduce(((t,o)=>({left:t.left+o.clientWidth,top:t.top+o.clientHeight})),{left:0,top:0});switch(this.placement){case"top":case"bottom":r.style.width=`${a}px`;r.style.height="auto";r.style.transform=`translateX(${n.left}px)`;break;case"start":case"end":r.style.width="auto";r.style.height=`${i}px`;r.style.transform=`translateY(${n.top}px)`;break}}preventIndicatorTransition(){const t=this.el.querySelector(".tab-group__indicator");const o=t.style.transition;t.style.transition="none";requestAnimationFrame((()=>{t.style.transition=o}))}handleTabsPanelsChange(){this.tabs=this.getTabs();this.panels=this.getPanels();this.handleIndicatorChange()}render(){const{placement:t,tabSize:o}=this;return r("div",{class:{"tab-group":true,"tab-group--top":t==="top","tab-group--bottom":t==="bottom","tab-group--start":t==="start","tab-group--end":t==="end"},onClick:this.handleClick},r("div",{class:"tab-group__nav-container",part:"nav"},r("div",{class:"tab-group__nav"},r("div",{part:"tabs",class:{"tab-group__tabs":true,[`tab-${o}`]:true},role:"tablist"},r("div",{part:"active-tab-indicator",class:"tab-group__indicator"}),r("slot",{name:"nav",onSlotchange:this.handleTabsPanelsChange})))),r("div",{part:"body",class:"tab-group__body"},r("slot",{onSlotchange:this.handleTabsPanelsChange})))}get el(){return i(this)}static get watchers(){return{placement:["handleIndicatorChange"]}}};b.style=d;const c=":host{--padding:0;display:block}.tab-panel{border:solid 1px transparent;padding:var(--padding)}";const u=class{constructor(o){t(this,o);this.name="";this.active=false}render(){const{active:t}=this;this.el.style.display=this.active?"block":"none";return r("div",{part:"base",class:"tab-panel",role:"tabpanel","aria-hidden":t?"false":"true"},r("slot",null))}get el(){return i(this)}};u.style=c;export{n as gr_tab,b as gr_tab_group,u as gr_tab_panel};
//# sourceMappingURL=p-e2a548c4.entry.js.map